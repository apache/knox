<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Apache Knox Gateway">
      
      
      
        <link rel="canonical" href="https://knox.apache.org/service_webhdfs/">
      
      
        <link rel="prev" href="../service_webhcat/">
      
      
        <link rel="next" href="../service_yarn/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>WebHDFS - Apache Knox</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#webhdfs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Apache Knox" class="md-header__button md-logo" aria-label="Apache Knox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apache Knox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              WebHDFS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quick_start/" class="md-tabs__link">
        
  
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../book/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../config/" class="md-tabs__link">
          
  
  
    
  
  Configuration

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../service_config/" class="md-tabs__link">
          
  
  
    
  
  Services

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../dev-guide/book/" class="md-tabs__link">
          
  
  
    
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../knox_cli/" class="md-tabs__link">
          
  
  
    
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../sse-support/" class="md-tabs__link">
          
  
  
    
  
  Advanced Topics

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/apache/knox" class="md-tabs__link">
        
  
  
    
  
  GitHub

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Apache Knox" class="md-nav__button md-logo" aria-label="Apache Knox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apache Knox
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick_start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_gateway-details/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gateway Details
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_client-details/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Client Details
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_service-details/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Service Details
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_ui_service_details/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI Service Details
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_knox-samples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox Samples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_topology_port_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Topology Port Mapping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Limitations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../book_troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Authentication
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_authn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_kerberos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kerberos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_ldap_authc_cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP Authentication Cache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_ldap_group_lookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LDAP Group Lookup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_advanced_ldap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced LDAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_pam_authn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PAM Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_knox_sso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox SSO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_knox_token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox Token
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_preauth_sso_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pre-auth SSO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_sso_cookie_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSO Cookie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_tls_client_certificate_authentication_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TLS Client Certificate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_pac4j_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PAC4J
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_hadoop_auth_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hadoop Auth
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_authz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_id_assertion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Identity Assertion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_ha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    High Availability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_knoxauth_service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox Auth Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_mutual_authentication_ssl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mutual Auth SSL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_webappsec_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web App Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_audit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_sandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sandbox
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_default_ha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Default HA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_ssl_certificate_trust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSL Certificate Trust
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_avatica/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Avatica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_cloudera_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cloudera Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_elasticsearch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elasticsearch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_hbase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HBase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_hive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hive
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kafka
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_livy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Livy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_oozie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Oozie
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_service_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Service Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_solr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_storm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_webhcat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebHCat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    WebHDFS
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    WebHDFS
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webhdfs" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hdfs-namenode-federation" class="md-nav__link">
    <span class="md-ellipsis">
      HDFS NameNode Federation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-url-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS URL Mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-examples" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webhdfs-via-client-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS via client DSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-via-curl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS via cURL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS via cURL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optionally-cleanup-the-sample-directory-in-case-a-previous-example-was-run-without-cleaning-up" class="md-nav__link">
    <span class="md-ellipsis">
      Optionally cleanup the sample directory in case a previous example was run without cleaning up.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-name-for-a-sample-file-readme-in-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      Register the name for a sample file README in /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-readme-to-userguestexample-use-the-readme-in-gateway_home" class="md-nav__link">
    <span class="md-ellipsis">
      Upload README to /user/guest/example. Use the README in {GATEWAY_HOME}.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-the-contents-of-the-directory-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      List the contents of the directory /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-the-content-of-the-readme-file-in-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      Request the content of the README file in /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-the-content-of-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read the content of the file.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionally-cleanup-the-example-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Optionally cleanup the example directory.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-client-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS client DSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS client DSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-get-a-file-from-hdfs-open" class="md-nav__link">
    <span class="md-ellipsis">
      get() - Get a file from HDFS (OPEN).
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ls-query-the-contents-of-a-directory-liststatus" class="md-nav__link">
    <span class="md-ellipsis">
      ls() - Query the contents of a directory (LISTSTATUS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdir-create-a-directory-in-hdfs-mkdirs" class="md-nav__link">
    <span class="md-ellipsis">
      mkdir() - Create a directory in HDFS (MKDIRS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-write-a-file-into-hdfs-create" class="md-nav__link">
    <span class="md-ellipsis">
      put() - Write a file into HDFS (CREATE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rm-delete-a-file-or-directory-delete" class="md-nav__link">
    <span class="md-ellipsis">
      rm() - Delete a file or directory (DELETE)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webhdfs-ha" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS HA
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service_yarn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    YARN
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-guide/book/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-guide/admin-ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-guide/knox_monitoring_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitoring API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev-guide/knoxsso_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KnoxSSO Integration
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../knox_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../knoxshell-guide/knoxshell_user_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knox Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Admin UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webshell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Shell
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sse-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSE Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../websocket-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WebSocket Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../x-forwarded-headers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    X-Forwarded Headers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/apache/knox" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webhdfs" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hdfs-namenode-federation" class="md-nav__link">
    <span class="md-ellipsis">
      HDFS NameNode Federation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-url-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS URL Mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-examples" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#webhdfs-via-client-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS via client DSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-via-curl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS via cURL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS via cURL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optionally-cleanup-the-sample-directory-in-case-a-previous-example-was-run-without-cleaning-up" class="md-nav__link">
    <span class="md-ellipsis">
      Optionally cleanup the sample directory in case a previous example was run without cleaning up.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-the-name-for-a-sample-file-readme-in-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      Register the name for a sample file README in /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-readme-to-userguestexample-use-the-readme-in-gateway_home" class="md-nav__link">
    <span class="md-ellipsis">
      Upload README to /user/guest/example. Use the README in {GATEWAY_HOME}.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-the-contents-of-the-directory-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      List the contents of the directory /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-the-content-of-the-readme-file-in-userguestexample" class="md-nav__link">
    <span class="md-ellipsis">
      Request the content of the README file in /user/guest/example.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-the-content-of-the-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read the content of the file.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionally-cleanup-the-example-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Optionally cleanup the example directory.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webhdfs-client-dsl" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS client DSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebHDFS client DSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-get-a-file-from-hdfs-open" class="md-nav__link">
    <span class="md-ellipsis">
      get() - Get a file from HDFS (OPEN).
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ls-query-the-contents-of-a-directory-liststatus" class="md-nav__link">
    <span class="md-ellipsis">
      ls() - Query the contents of a directory (LISTSTATUS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mkdir-create-a-directory-in-hdfs-mkdirs" class="md-nav__link">
    <span class="md-ellipsis">
      mkdir() - Create a directory in HDFS (MKDIRS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-write-a-file-into-hdfs-create" class="md-nav__link">
    <span class="md-ellipsis">
      put() - Write a file into HDFS (CREATE)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rm-delete-a-file-or-directory-delete" class="md-nav__link">
    <span class="md-ellipsis">
      rm() - Delete a file or directory (DELETE)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webhdfs-ha" class="md-nav__link">
    <span class="md-ellipsis">
      WebHDFS HA
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>WebHDFS</h1>

<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<!---
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       https://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<h3 id="webhdfs">WebHDFS<a class="headerlink" href="#webhdfs" title="Permanent link">&para;</a></h3>
<p>REST API access to HDFS in a Hadoop cluster is provided by WebHDFS or HttpFS.
Both services provide the same API.
The <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS REST API</a> documentation is available online.
WebHDFS must be enabled in the <code>hdfs-site.xml</code> configuration file and exposes the API on each NameNode and DataNode.
HttpFS however is a separate server to be configured and started separately.
In the sandbox this configuration file is located at <code>/etc/hadoop/conf/hdfs-site.xml</code>.
Note the properties shown below as they are related to configuration required by the gateway.
Some of these represent the default values and may not actually be present in <code>hdfs-site.xml</code>.</p>
<div class="highlight"><pre><span></span><code>&lt;property&gt;
    &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
    &lt;name&gt;dfs.namenode.rpc-address&lt;/name&gt;
    &lt;value&gt;sandbox.hortonworks.com:8020&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
    &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;
    &lt;value&gt;sandbox.hortonworks.com:50070&lt;/value&gt;
&lt;/property&gt;
&lt;property&gt;
    &lt;name&gt;dfs.https.namenode.https-address&lt;/name&gt;
    &lt;value&gt;sandbox.hortonworks.com:50470&lt;/value&gt;
&lt;/property&gt;
</code></pre></div>
<p>The values above need to be reflected in each topology descriptor file deployed to the gateway.
The gateway by default includes a sample topology descriptor file <code>{GATEWAY_HOME}/deployments/sandbox.xml</code>.
The values in this sample are configured to work with an installed Sandbox VM.</p>
<p>Please also note that the port changed from 50070 to 9870 in Hadoop 3.0.</p>
<div class="highlight"><pre><span></span><code>&lt;service&gt;
    &lt;role&gt;NAMENODE&lt;/role&gt;
    &lt;url&gt;hdfs://localhost:8020&lt;/url&gt;
&lt;/service&gt;
&lt;service&gt;
    &lt;role&gt;WEBHDFS&lt;/role&gt;
    &lt;url&gt;http://localhost:50070/webhdfs&lt;/url&gt;
&lt;/service&gt;
</code></pre></div>
<p>The URL provided for the role NAMENODE does not result in an endpoint being exposed by the gateway.
This information is only required so that other URLs can be rewritten that reference the Name Node's RPC address.
This prevents clients from needing to be aware of the internal cluster details.</p>
<p>By default the gateway is configured to use the HTTP endpoint for WebHDFS in the Sandbox.
This could alternatively be configured to use the HTTPS endpoint by providing the correct address.</p>
<h5 id="hdfs-namenode-federation">HDFS NameNode Federation<a class="headerlink" href="#hdfs-namenode-federation" title="Permanent link">&para;</a></h5>
<p>NameNode federation introduces some additional complexity when determining to which URL(s) Knox should proxy HDFS-related requests.</p>
<p>The HDFS core-site.xml configuration includes additional properties, which represent options in terms of the NameNode endpoints.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
<th>Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>dfs.internal.nameservices</td>
<td>The list of defined namespaces</td>
<td>ns1,ns2</td>
</tr>
</tbody>
</table>
<p>For each value enumerated by <em>dfs.internal.nameservices</em>, there is another property defined, for specifying the associated NameNode names.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
<th>Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>dfs.ha.namenodes.ns1</td>
<td>The NameNode identifiers associated with the ns1 namespace</td>
<td>nn1,nn2</td>
</tr>
<tr>
<td>dfs.ha.namenodes.ns2</td>
<td>The NameNode identifiers associated with the ns2 namespace</td>
<td>nn3,nn4</td>
</tr>
</tbody>
</table>
<p>For each namenode name enumerated by each of these properties, there are other properties defined, for specifying the associated host addresses.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
<th>Example Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>dfs.namenode.http-address.ns1.nn1</td>
<td>The HTTP host address of nn1 NameNode in the ns1 namespace</td>
<td>host1:50070</td>
</tr>
<tr>
<td>dfs.namenode.https-address.ns1.nn1</td>
<td>The HTTPS host address of nn1 NameNode in the ns1 namespace</td>
<td>host1:50470</td>
</tr>
<tr>
<td>dfs.namenode.http-address.ns1.nn2</td>
<td>The HTTP host address of nn2 NameNode in the ns1 namespace</td>
<td>host2:50070</td>
</tr>
<tr>
<td>dfs.namenode.https-address.ns1.nn2</td>
<td>The HTTPS host address of nn2 NameNode in the ns1 namespace</td>
<td>host2:50470</td>
</tr>
<tr>
<td>dfs.namenode.http-address.ns2.nn3</td>
<td>The HTTP host address of nn3 NameNode in the ns2 namespace</td>
<td>host3:50070</td>
</tr>
<tr>
<td>dfs.namenode.https-address.ns2.nn3</td>
<td>The HTTPS host address of nn3 NameNode in the ns2 namespace</td>
<td>host3:50470</td>
</tr>
<tr>
<td>dfs.namenode.http-address.ns2.nn4</td>
<td>The HTTP host address of nn4 NameNode in the ns2 namespace</td>
<td>host4:50070</td>
</tr>
<tr>
<td>dfs.namenode.https-address.ns2.nn4</td>
<td>The HTTPS host address of nn4 NameNode in the ns2 namespace</td>
<td>host4:50470</td>
</tr>
</tbody>
</table>
<p>So, if Knox should proxy the NameNodes associated with <em>ns1</em>, and the configuration does not dictate HTTPS, then the WEBHDFS service must
contain URLs based on the values of <em>dfs.namenode.http-address.ns1.nn1</em> and <em>dfs.namenode.http-address.ns1.nn2</em>. Likewise, if Knox should
proxy the NameNodes associated with <em>ns2</em>, the WEBHDFS service must contain URLs based on the values of <em>dfs.namenode.http-address.ns2.nn3</em>
and <em>dfs.namenode.http-address.ns2.nn3</em>.</p>
<p>Fortunately, for Ambari-managed clusters, <a href="#Simplified+Descriptor+Files">descriptors</a> and service discovery can handle this complexity for administrators.
In the descriptor, the service can be declared without any endpoints, and the desired namespace can be specified to disambiguate which endpoint(s)
should be proxied by way of a parameter named <em>discovery-namespace</em>.</p>
<div class="highlight"><pre><span></span><code>&quot;services&quot;: [
  {
    &quot;name&quot;: &quot;WEBHDFS&quot;,
    &quot;params&quot;: {
      &quot;discovery-nameservice&quot;: &quot;ns2&quot;
    }
  },
</code></pre></div>
<p>If no namespace is specified, then the default namespace will be applied. This default namespace is derived from the value of the
property named <em>fs.defaultFS</em> defined in the HDFS <em>core-site.xml</em> configuration.</p>
<p><br></p>
<h4 id="webhdfs-url-mapping">WebHDFS URL Mapping<a class="headerlink" href="#webhdfs-url-mapping" title="Permanent link">&para;</a></h4>
<p>For Name Node URLs, the mapping of Knox Gateway accessible WebHDFS URLs to direct WebHDFS URLs is simple.</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gateway</td>
<td><code>https://{gateway-host}:{gateway-port}/{gateway-path}/{cluster-name}/webhdfs</code></td>
</tr>
<tr>
<td>Cluster</td>
<td><code>http://{webhdfs-host}:50070/webhdfs</code></td>
</tr>
</tbody>
</table>
<p>However, there is a subtle difference to URLs that are returned by WebHDFS in the Location header of many requests.
Direct WebHDFS requests may return Location headers that contain the address of a particular DataNode.
The gateway will rewrite these URLs to ensure subsequent requests come back through the gateway and internal cluster details are protected.</p>
<p>A WebHDFS request to the NameNode to retrieve a file will return a URL of the form below in the Location header.</p>
<div class="highlight"><pre><span></span><code>http://{datanode-host}:{data-node-port}/webhdfs/v1/{path}?...
</code></pre></div>
<p>Note that this URL contains the network location of a DataNode.
The gateway will rewrite this URL to look like the URL below.</p>
<div class="highlight"><pre><span></span><code>https://{gateway-host}:{gateway-port}/{gateway-path}/{cluster-name}/webhdfs/data/v1/{path}?_={encrypted-query-parameters}
</code></pre></div>
<p>The <code>{encrypted-query-parameters}</code> will contain the <code>{datanode-host}</code> and <code>{datanode-port}</code> information.
This information along with the original query parameters are encrypted so that the internal Hadoop details are protected.</p>
<h4 id="webhdfs-examples">WebHDFS Examples<a class="headerlink" href="#webhdfs-examples" title="Permanent link">&para;</a></h4>
<p>The examples below upload a file, download the file and list the contents of the directory.</p>
<h5 id="webhdfs-via-client-dsl">WebHDFS via client DSL<a class="headerlink" href="#webhdfs-via-client-dsl" title="Permanent link">&para;</a></h5>
<p>You can use the Groovy example scripts and interpreter provided with the distribution.</p>
<div class="highlight"><pre><span></span><code>java -jar bin/shell.jar samples/ExampleWebHdfsPutGet.groovy
java -jar bin/shell.jar samples/ExampleWebHdfsLs.groovy
</code></pre></div>
<p>You can manually type the client DSL script into the KnoxShell interactive Groovy interpreter provided with the distribution.
The command below starts the KnoxShell in interactive mode.</p>
<div class="highlight"><pre><span></span><code>java -jar bin/shell.jar
</code></pre></div>
<p>Each line below could be typed or copied into the interactive shell and executed.
This is provided as an example to illustrate the use of the client DSL.</p>
<div class="highlight"><pre><span></span><code>// Import the client DSL and a useful utilities for working with JSON.
import org.apache.knox.gateway.shell.Hadoop
import org.apache.knox.gateway.shell.hdfs.Hdfs
import groovy.json.JsonSlurper

// Setup some basic config.
gateway = &quot;https://localhost:8443/gateway/sandbox&quot;
username = &quot;guest&quot;
password = &quot;guest-password&quot;

// Start the session.
session = Hadoop.login( gateway, username, password )

// Cleanup anything leftover from a previous run.
Hdfs.rm( session ).file( &quot;/user/guest/example&quot; ).recursive().now()

// Upload the README to HDFS.
Hdfs.put( session ).file( &quot;README&quot; ).to( &quot;/user/guest/example/README&quot; ).now()

// Download the README from HDFS.
text = Hdfs.get( session ).from( &quot;/user/guest/example/README&quot; ).now().string
println text

// List the contents of the directory.
text = Hdfs.ls( session ).dir( &quot;/user/guest/example&quot; ).now().string
json = (new JsonSlurper()).parseText( text )
println json.FileStatuses.FileStatus.pathSuffix

// Cleanup the directory.
Hdfs.rm( session ).file( &quot;/user/guest/example&quot; ).recursive().now()

// Clean the session.
session.shutdown()
</code></pre></div>
<h5 id="webhdfs-via-curl">WebHDFS via cURL<a class="headerlink" href="#webhdfs-via-curl" title="Permanent link">&para;</a></h5>
<p>Users can use cURL to directly invoke the REST APIs via the gateway.</p>
<h6 id="optionally-cleanup-the-sample-directory-in-case-a-previous-example-was-run-without-cleaning-up">Optionally cleanup the sample directory in case a previous example was run without cleaning up.<a class="headerlink" href="#optionally-cleanup-the-sample-directory-in-case-a-previous-example-was-run-without-cleaning-up" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X DELETE \
    &#39;https://localhost:8443/gateway/sandbox/webhdfs/v1/user/guest/example?op=DELETE&amp;recursive=true&#39;
</code></pre></div>
<h6 id="register-the-name-for-a-sample-file-readme-in-userguestexample">Register the name for a sample file README in /user/guest/example.<a class="headerlink" href="#register-the-name-for-a-sample-file-readme-in-userguestexample" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X PUT \
    &#39;https://localhost:8443/gateway/sandbox/webhdfs/v1/user/guest/example/README?op=CREATE&#39;
</code></pre></div>
<h6 id="upload-readme-to-userguestexample-use-the-readme-in-gateway_home">Upload README to /user/guest/example.  Use the README in {GATEWAY_HOME}.<a class="headerlink" href="#upload-readme-to-userguestexample-use-the-readme-in-gateway_home" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -T README -X PUT \
    &#39;{Value of Location header from command above}&#39;
</code></pre></div>
<h6 id="list-the-contents-of-the-directory-userguestexample">List the contents of the directory /user/guest/example.<a class="headerlink" href="#list-the-contents-of-the-directory-userguestexample" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X GET \
    &#39;https://localhost:8443/gateway/sandbox/webhdfs/v1/user/guest/example?op=LISTSTATUS&#39;
</code></pre></div>
<h6 id="request-the-content-of-the-readme-file-in-userguestexample">Request the content of the README file in /user/guest/example.<a class="headerlink" href="#request-the-content-of-the-readme-file-in-userguestexample" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X GET \
    &#39;https://localhost:8443/gateway/sandbox/webhdfs/v1/user/guest/example/README?op=OPEN&#39;
</code></pre></div>
<h6 id="read-the-content-of-the-file">Read the content of the file.<a class="headerlink" href="#read-the-content-of-the-file" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X GET \
    &#39;{Value of Location header from command above}&#39;
</code></pre></div>
<h6 id="optionally-cleanup-the-example-directory">Optionally cleanup the example directory.<a class="headerlink" href="#optionally-cleanup-the-example-directory" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code>curl -i -k -u guest:guest-password -X DELETE \
    &#39;https://localhost:8443/gateway/sandbox/webhdfs/v1/user/guest/example?op=DELETE&amp;recursive=true&#39;
</code></pre></div>
<h5 id="webhdfs-client-dsl">WebHDFS client DSL<a class="headerlink" href="#webhdfs-client-dsl" title="Permanent link">&para;</a></h5>
<h6 id="get-get-a-file-from-hdfs-open">get() - Get a file from HDFS (OPEN).<a class="headerlink" href="#get-get-a-file-from-hdfs-open" title="Permanent link">&para;</a></h6>
<ul>
<li>Request<ul>
<li>from( String name ) - The full name of the file in HDFS.</li>
<li>file( String name ) - The name of a local file to create with the content.
If this isn't specified the file content must be read from the response.</li>
</ul>
</li>
<li>Response<ul>
<li>BasicResponse</li>
<li>If file parameter specified content will be streamed to file.</li>
</ul>
</li>
<li>Example<ul>
<li><code>Hdfs.get( session ).from( "/user/guest/example/README" ).now().string</code></li>
</ul>
</li>
</ul>
<h6 id="ls-query-the-contents-of-a-directory-liststatus">ls() - Query the contents of a directory (LISTSTATUS)<a class="headerlink" href="#ls-query-the-contents-of-a-directory-liststatus" title="Permanent link">&para;</a></h6>
<ul>
<li>Request<ul>
<li>dir( String name ) - The full name of the directory in HDFS.</li>
</ul>
</li>
<li>Response<ul>
<li>BasicResponse</li>
</ul>
</li>
<li>Example<ul>
<li><code>Hdfs.ls( session ).dir( "/user/guest/example" ).now().string</code></li>
</ul>
</li>
</ul>
<h6 id="mkdir-create-a-directory-in-hdfs-mkdirs">mkdir() - Create a directory in HDFS (MKDIRS)<a class="headerlink" href="#mkdir-create-a-directory-in-hdfs-mkdirs" title="Permanent link">&para;</a></h6>
<ul>
<li>Request<ul>
<li>dir( String name ) - The full name of the directory to create in HDFS.</li>
<li>perm( String perm ) - The permissions for the directory (e.g. 644).  Optional: default="777"</li>
</ul>
</li>
<li>Response<ul>
<li>EmptyResponse - Implicit close().</li>
</ul>
</li>
<li>Example<ul>
<li><code>Hdfs.mkdir( session ).dir( "/user/guest/example" ).now()</code></li>
</ul>
</li>
</ul>
<h6 id="put-write-a-file-into-hdfs-create">put() - Write a file into HDFS (CREATE)<a class="headerlink" href="#put-write-a-file-into-hdfs-create" title="Permanent link">&para;</a></h6>
<ul>
<li>Request<ul>
<li>text( String text ) - Text to upload to HDFS.  Takes precedence over file if both present.</li>
<li>file( String name ) - The name of a local file to upload to HDFS.</li>
<li>to( String name ) - The fully qualified name to create in HDFS.</li>
</ul>
</li>
<li>Response<ul>
<li>EmptyResponse - Implicit close().</li>
</ul>
</li>
<li>Example<ul>
<li><code>Hdfs.put( session ).file( README ).to( "/user/guest/example/README" ).now()</code></li>
</ul>
</li>
</ul>
<h6 id="rm-delete-a-file-or-directory-delete">rm() - Delete a file or directory (DELETE)<a class="headerlink" href="#rm-delete-a-file-or-directory-delete" title="Permanent link">&para;</a></h6>
<ul>
<li>Request<ul>
<li>file( String name ) - The fully qualified file or directory name in HDFS.</li>
<li>recursive( Boolean recursive ) - Delete directory and all of its contents if True.  Optional: default=False</li>
</ul>
</li>
<li>Response<ul>
<li>BasicResponse - Implicit close().</li>
</ul>
</li>
<li>Example<ul>
<li><code>Hdfs.rm( session ).file( "/user/guest/example" ).recursive().now()</code></li>
</ul>
</li>
</ul>
<h3 id="webhdfs-ha">WebHDFS HA<a class="headerlink" href="#webhdfs-ha" title="Permanent link">&para;</a></h3>
<p>Knox provides basic failover functionality for REST API calls made to WebHDFS when HDFS HA has been 
configured and enabled.</p>
<p>To enable HA functionality for WebHDFS in Knox the following configuration has to be added to the topology file.</p>
<div class="highlight"><pre><span></span><code>&lt;provider&gt;
   &lt;role&gt;ha&lt;/role&gt;
   &lt;name&gt;HaProvider&lt;/name&gt;
   &lt;enabled&gt;true&lt;/enabled&gt;
   &lt;param&gt;
       &lt;name&gt;WEBHDFS&lt;/name&gt;
       &lt;value&gt;maxFailoverAttempts=3;failoverSleep=1000;enabled=true&lt;/value&gt;
   &lt;/param&gt;
&lt;/provider&gt;
</code></pre></div>
<p>The role and name of the provider above must be as shown. The name in the 'param' section must match that of the service 
role name that is being configured for HA and the value in the 'param' section is the configuration for that particular
service in HA mode. In this case the name is 'WEBHDFS'.</p>
<p>The various configuration parameters are described below:</p>
<ul>
<li>
<p>maxFailoverAttempts - 
This is the maximum number of times a failover will be attempted. The failover strategy at this time is very simplistic
in that the next URL in the list of URLs provided for the service is used and the one that failed is put at the bottom 
of the list. If the list is exhausted and the maximum number of attempts is not reached then the first URL that failed 
will be tried again (the list will start again from the original top entry).</p>
</li>
<li>
<p>failoverSleep - 
The amount of time in milliseconds that the process will wait or sleep before attempting to failover.</p>
</li>
<li>
<p>enabled - 
Flag to turn the particular service on or off for HA.</p>
</li>
</ul>
<p>And for the service configuration itself the additional URLs should be added to the list. The active 
URL (at the time of configuration) should ideally be added to the top of the list.</p>
<div class="highlight"><pre><span></span><code>&lt;service&gt;
    &lt;role&gt;WEBHDFS&lt;/role&gt;
    &lt;url&gt;http://{host1}:50070/webhdfs&lt;/url&gt;
    &lt;url&gt;http://{host2}:50070/webhdfs&lt;/url&gt;
&lt;/service&gt;
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.highlight", "search.share", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>